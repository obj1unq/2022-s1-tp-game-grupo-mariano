import wollok.game.*
import mira.*
import extras.*
import balasYCargador.*
import puntuacion.*
import gestoresComportamiento.*

program juego {
	game.title("Juego Base")
	game.height(14)
	game.width(14)
	game.boardGround("paisaje.jpg")
	
	game.addVisual(mira)
	game.addVisual(balas)
	game.addVisual(cartucho)
	game.addVisual(tituloPuntuacion)
	game.addVisual(puntuacion)
	
	keyboard.left().onPressDo({ mira.mover(izquierda) })
	keyboard.right().onPressDo({ mira.mover(derecha) })
	keyboard.up().onPressDo({ mira.mover(arriba) })
	keyboard.down().onPressDo({ mira.mover(abajo) })
	keyboard.e().onPressDo({ mira.disparar() })
	game.onTick(4500, "generadorPatos", {gestorPatos.generarPatos()})
	game.onTick(1000, "movedorPatos", {gestorPatos.moverPatos()})
	game.onTick(21000, "sonidoFondo", {game.sound("bosque.mp3").play()})
	game.schedule(0, {game.sound("bosque.mp3").play()})
	game.schedule(randomTiempo.generar(), {gestorCiervos.generarCiervo()})
	game.schedule(2500, {gestorTopos.generarTopo()})
	
	game.start()
}
